<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>codeSpecification_first | Gridea</title>
<link rel="shortcut icon" href="https://dupl.github.io/gridea/favicon.ico?v=1744703986223">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://dupl.github.io/gridea/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="codeSpecification_first | Gridea - Atom Feed" href="https://dupl.github.io/gridea/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="一、简明概述
1、编码

如无特殊情况, 文件一律使用 UTF-8 编码
如无特殊情况, 文件头部必须加入#-*-coding:utf-8-*-标识

2、代码格式
2.1、缩进

统一使用 4 个空格进行缩进

2.2、行宽
每行代码尽量..." />
    <meta name="keywords" content="python" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://dupl.github.io/gridea">
  <img class="avatar" src="https://dupl.github.io/gridea/images/avatar.png?v=1744703986223" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="https://dupl.github.io/gridea" class="menu">
          首页
        </a>
      
    
      
        <a href="https://dupl.github.io/gridea/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="https://dupl.github.io/gridea/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="https://dupl.github.io/gridea/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              codeSpecification_first
            </h2>
            <div class="post-info">
              <span>
                2025-02-20
              </span>
              <span>
                5 min read
              </span>
              
                <a href="https://dupl.github.io/gridea/tag/uIwvvo8-6A_/" class="post-tag">
                  # python
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <h1 id="一-简明概述">一、简明概述</h1>
<h2 id="1-编码">1、编码</h2>
<ul>
<li>如无特殊情况, 文件一律使用 UTF-8 编码</li>
<li>如无特殊情况, 文件头部必须加入<code>#-*-coding:utf-8-*-</code>标识</li>
</ul>
<h2 id="2-代码格式">2、代码格式</h2>
<h3 id="21-缩进">2.1、缩进</h3>
<ul>
<li>统一使用 4 个空格进行缩进</li>
</ul>
<h3 id="22-行宽">2.2、行宽</h3>
<p>每行代码尽量不超过 80 个字符(在特殊情况下可以略微超过 80 ，但最长不得超过 120)</p>
<p>理由：</p>
<ul>
<li>这在查看 side-by-side 的 diff 时很有帮助</li>
<li>方便在控制台下查看代码</li>
<li>太长可能是设计有缺陷</li>
</ul>
<h3 id="23-引号">2.3、引号</h3>
<p>简单说，自然语言使用双引号，机器标示使用单引号，因此 <strong>代码里</strong> 多数应该使用 <strong>单引号</strong></p>
<ul>
<li><em><strong>自然语言</strong></em> <strong>使用双引号</strong> <code>&quot;...&quot;</code><br>
例如错误信息；很多情况还是 unicode，使用<code>u&quot;你好世界&quot;</code></li>
<li><em><strong>机器标识</strong></em> <strong>使用单引号</strong> <code>'...'</code><br>
例如 dict 里的 key</li>
<li><em><strong>正则表达式</strong></em> <strong>使用原生的双引号</strong> <code>r&quot;...&quot;</code></li>
<li><em><strong>文档字符串 (docstring)</strong></em> <strong>使用三个双引号</strong> <code>&quot;&quot;&quot;......&quot;&quot;&quot;</code></li>
</ul>
<h3 id="24-空行">2.4、空行</h3>
<ul>
<li>模块级函数和类定义之间空两行；</li>
<li>类成员函数之间空一行；</li>
</ul>
<pre><code class="language-python">class A:

    def __init__(self):
        pass

    def hello(self):
        pass


def main():
    pass   
</code></pre>
<ul>
<li>可以使用多个空行分隔多组相关的函数</li>
<li>函数中可以使用空行分隔出逻辑相关的代码</li>
</ul>
<h2 id="3-import-语句">3、import 语句</h2>
<ul>
<li>import 语句应该分行书写</li>
</ul>
<pre><code class="language-python"># 正确的写法
import os
import sys

# 不推荐的写法
import sys,os

# 正确的写法
from subprocess import Popen, PIPE
</code></pre>
<ul>
<li>import语句应该使用 <strong>absolute</strong> import</li>
</ul>
<pre><code class="language-python"># 正确的写法
from foo.bar import Bar

# 不推荐的写法
from ..bar import Bar
</code></pre>
<ul>
<li>import语句应该放在文件头部，置于模块说明及docstring之后，于全局变量之前；</li>
<li>import语句应该按照顺序排列，每组之间用一个空行分隔</li>
</ul>
<pre><code class="language-python">import os
import sys

import msgpack
import zmq

import foo
</code></pre>
<ul>
<li>导入其他模块的类定义时，可以使用相对导入</li>
</ul>
<pre><code class="language-python">from myclass import MyClass
</code></pre>
<ul>
<li>如果发生命名冲突，则可使用命名空间</li>
</ul>
<pre><code class="language-python">import bar
import foo.bar

bar.Bar()
foo.bar.Bar()
</code></pre>
<h2 id="4-空格">4、空格</h2>
<ul>
<li>在二元运算符两边各空一格<code>[=,-,+=,==,&gt;,in,is not, and]</code>:</li>
</ul>
<pre><code class="language-python"># 正确的写法
i = i + 1
submitted += 1
x = x * 2 - 1
hypot2 = x * x + y * y
c = (a + b) * (a - b)

# 不推荐的写法
i=i+1
submitted +=1
x = x*2 - 1
hypot2 = x*x + y*y
c = (a+b) * (a-b)
</code></pre>
<ul>
<li>函数的参数列表中，<code>,</code>之后要有空格</li>
</ul>
<pre><code class="language-python"># 正确的写法
def complex(real, imag):
    pass

# 不推荐的写法
def complex(real,imag):
    pass
</code></pre>
<ul>
<li>函数的参数列表中，默认值等号两边不要添加空格</li>
</ul>
<pre><code class="language-python"># 正确的写法
def complex(real, imag=0.0):
    pass

# 不推荐的写法
def complex(real, imag = 0.0):
    pass
</code></pre>
<ul>
<li>左括号之后，右括号之前不要加多余的空格</li>
</ul>
<pre><code class="language-python"># 正确的写法
spam(ham[1], {eggs: 2})

# 不推荐的写法
spam( ham[1], { eggs : 2 } )
</code></pre>
<ul>
<li>字典对象的左括号之前不要多余的空格</li>
</ul>
<pre><code class="language-python"># 正确的写法
dict['key'] = list[index]

# 不推荐的写法
dict ['key'] = list [index]
</code></pre>
<ul>
<li>不要为对齐赋值语句而使用的额外空格</li>
</ul>
<pre><code class="language-python"># 正确的写法
x = 1
y = 2
long_variable = 3

# 不推荐的写法
x             = 1
y             = 2
long_variable = 3
</code></pre>
<h2 id="5-换行">5、换行</h2>
<p>Python 支持括号内的换行。这时有两种情况。</p>
<ol>
<li>第二行缩进到括号的起始处</li>
</ol>
<pre><code class="language-python">foo = long_function_name(var_one, var_two,
                         var_three, var_four)
</code></pre>
<ol start="2">
<li>第二行缩进 4 个空格，适用于起始括号就换行的情形</li>
</ol>
<pre><code class="language-python">def long_function_name(
        var_one, var_two, var_three,
        var_four):
    print(var_one)
</code></pre>
<p>使用反斜杠<code>\</code>换行，二元运算符<code>+</code> <code>.</code>等应出现在行末；长字符串也可以用此法换行</p>
<pre><code class="language-python">session.query(MyTable).\
        filter_by(id=1).\
        one()

print 'Hello, '\
      '%s %s!' %\
      ('Harry', 'Potter')
</code></pre>
<p>禁止复合语句，即一行中包含多个语句：</p>
<pre><code class="language-python"># 正确的写法
do_first()
do_second()
do_third()

# 不推荐的写法
do_first();do_second();do_third();
</code></pre>
<p><code>if/for/while</code>一定要换行：</p>
<pre><code class="language-python"># 正确的写法
if foo == 'blah':
    do_blah_thing()

# 不推荐的写法
if foo == 'blah': do_blash_thing()
</code></pre>
<h2 id="6-docstring">6、docstring</h2>
<p>docstring 的规范中最其本的两点：</p>
<ol>
<li>所有的公共模块、函数、类、方法，都应该写 docstring 。私有方法不一定需要，但应该在 def 后提供一个块注释来说明。</li>
<li>docstring 的结束&quot;&quot;&quot;应该独占一行，除非此 docstring 只有一行。</li>
</ol>
<pre><code class="language-python">&quot;&quot;&quot;Return a foobar
Optional plotz says to frobnicate the bizbaz first.
&quot;&quot;&quot;

&quot;&quot;&quot;Oneline docstring&quot;&quot;&quot;
</code></pre>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E4%B8%80-%E7%AE%80%E6%98%8E%E6%A6%82%E8%BF%B0">一、简明概述</a>
<ul>
<li><a href="#1-%E7%BC%96%E7%A0%81">1、编码</a></li>
<li><a href="#2-%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F">2、代码格式</a>
<ul>
<li><a href="#21-%E7%BC%A9%E8%BF%9B">2.1、缩进</a></li>
<li><a href="#22-%E8%A1%8C%E5%AE%BD">2.2、行宽</a></li>
<li><a href="#23-%E5%BC%95%E5%8F%B7">2.3、引号</a></li>
<li><a href="#24-%E7%A9%BA%E8%A1%8C">2.4、空行</a></li>
</ul>
</li>
<li><a href="#3-import-%E8%AF%AD%E5%8F%A5">3、import 语句</a></li>
<li><a href="#4-%E7%A9%BA%E6%A0%BC">4、空格</a></li>
<li><a href="#5-%E6%8D%A2%E8%A1%8C">5、换行</a></li>
<li><a href="#6-docstring">6、docstring</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://dupl.github.io/gridea/post/Django/">
              <h3 class="post-title">
                Django
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '9b1b3d5e02fd883c8d79',
    clientSecret: '7cd8d96a9db672953daac4c7219bb6d618cdd6a8',
    repo: 'gridea',
    owner: 'dupl',
    admin: ['dupl'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://dupl.github.io/gridea/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
